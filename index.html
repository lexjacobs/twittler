<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

 // this prints the initial set of tweets:
 $(document).ready(function() {
   var $body = $('body');
   $body.html('');
   var index = streams.home.length - 1;
   while (index >= 0) {
     var tweet = streams.home[index];
     var $tweet = $('<div></div>');
     $tweet.text('@' + tweet.user + ': ' + tweet.message + " at: " + tweet.created_at);
     $tweet.appendTo($body);
     index -= 1;
   }
   var tweetsPrinted = streams.home.length;

   // this section checks for new tweets and prints only the new tweets
   setInterval(function() {
     var totalTweets = streams.home.length; // to check for new tweets
     console.log(totalTweets);
     if (tweetsPrinted !== totalTweets) {
       tweetDiff = totalTweets - tweetsPrinted;
       tweetsPrinted = totalTweets;
       while (tweetDiff > 0) {
         var index = streams.home.length - tweetDiff;
         var tweet = streams.home[index];
         var $tweet = $('<div></div>');
         $tweet.text('@' + tweet.user + ': ' + tweet.message + " at: " + tweet.created_at);
         $tweet.prependTo($body);
         tweetDiff -= 1;
       }
     }
   }, 3000);
 });
    </script>
  </body>
</html>
